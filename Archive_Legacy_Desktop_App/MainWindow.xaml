<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Enterprise Endpoint Monitoring System" 
        Height="800" Width="1400" 
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E">
    
    <Window.Resources>
        <!-- Color Palette -->
        <SolidColorBrush x:Key="PrimaryBg" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="SecondaryBg" Color="#2D2D30"/>
        <SolidColorBrush x:Key="AccentBlue" Color="#007ACC"/>
        <SolidColorBrush x:Key="AccentGreen" Color="#28A745"/>
        <SolidColorBrush x:Key="AccentRed" Color="#DC3545"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#CCCCCC"/>
        <SolidColorBrush x:Key="BorderColor" Color="#3E3E42"/>
        
        <!-- Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentBlue}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1E88E5"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#555555"/>
                    <Setter Property="Foreground" Value="#888888"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- TextBox Style -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource SecondaryBg}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Label Style -->
        <Style x:Key="ModernLabel" TargetType="Label">
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- DataGrid Style -->
        <Style x:Key="ModernDataGrid" TargetType="DataGrid">
            <Setter Property="Background" Value="{StaticResource SecondaryBg}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="AlternatingRowBackground" Value="#252526"/>
            <Setter Property="RowBackground" Value="{StaticResource SecondaryBg}"/>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Login Modal Overlay -->
        <Grid x:Name="LoginOverlay" Background="#DD000000" Visibility="Visible" Panel.ZIndex="100">
            <Border Width="400" Height="300" Background="{StaticResource SecondaryBg}" 
                    BorderBrush="{StaticResource AccentBlue}" BorderThickness="2" CornerRadius="8">
                <StackPanel Margin="30" VerticalAlignment="Center">
                    <TextBlock Text="Enterprise Endpoint Monitoring" FontSize="18" FontWeight="Bold" 
                               Foreground="{StaticResource TextPrimary}" TextAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Authentication Required" FontSize="14" 
                               Foreground="{StaticResource TextSecondary}" TextAlignment="Center" Margin="0,0,0,30"/>
                    
                    <Label Content="Username:" Style="{StaticResource ModernLabel}"/>
                    <TextBox x:Name="txtUsername" Style="{StaticResource ModernTextBox}" Margin="0,5,0,15"/>
                    
                    <Label Content="Password:" Style="{StaticResource ModernLabel}"/>
                    <PasswordBox x:Name="txtPassword" Background="{StaticResource SecondaryBg}" 
                                 Foreground="{StaticResource TextPrimary}" BorderBrush="{StaticResource BorderColor}" 
                                 BorderThickness="1" Padding="8,6" FontSize="13" Margin="0,5,0,25"/>
                    
                    <Button x:Name="btnLogin" Content="Login" Style="{StaticResource ModernButton}" 
                            Height="40" FontSize="14"/>
                    
                    <TextBlock x:Name="txtLoginStatus" Text="" Foreground="{StaticResource AccentRed}" 
                               TextAlignment="Center" Margin="0,15,0,0" FontSize="12"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Main Application -->
        <Grid x:Name="MainContent" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="{StaticResource SecondaryBg}" BorderBrush="{StaticResource BorderColor}" BorderThickness="0,0,0,1">
                <Grid Margin="20,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="ðŸ–¥ï¸" FontSize="24" Margin="0,0,10,0"/>
                        <TextBlock Text="Enterprise Endpoint Monitoring System" FontSize="20" FontWeight="Bold" 
                                   Foreground="{StaticResource TextPrimary}" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <TextBlock x:Name="txtLoggedInUser" Text="User: " Foreground="{StaticResource TextSecondary}" Margin="0,0,20,0"/>
                        <Button x:Name="btnLogout" Content="Logout" Style="{StaticResource ModernButton}" Padding="10,5"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Input Panel -->
            <Border Grid.Row="1" Background="{StaticResource SecondaryBg}" Padding="20" 
                    BorderBrush="{StaticResource BorderColor}" BorderThickness="0,0,0,1">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal">
                        <Label Content="Target:" Style="{StaticResource ModernLabel}" VerticalAlignment="Center"/>
                        <TextBox x:Name="txtTarget" Style="{StaticResource ModernTextBox}" Width="300" Margin="10,0" 
                                 ToolTip="Enter Hostname, IP Address, or User ID"/>
                        <Button x:Name="btnScan" Content="Scan Endpoint" Style="{StaticResource ModernButton}" Margin="5,0"/>
                        <Button x:Name="btnLoadFile" Content="ðŸ“ Load Target List" Style="{StaticResource ModernButton}" Margin="5,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Grid.Column="1">
                        <Button x:Name="btnExport" Content="ðŸ“Š Export Report" Style="{StaticResource ModernButton}" Margin="5,0"/>
                        <Button x:Name="btnClear" Content="Clear Results" Style="{StaticResource ModernButton}" 
                                Background="#555555" Margin="5,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content Area -->
            <TabControl Grid.Row="2" x:Name="tabMain" Background="{StaticResource PrimaryBg}" 
                        BorderThickness="0" Padding="10">
                <TabControl.Resources>
                    <Style TargetType="TabItem">
                        <Setter Property="Background" Value="{StaticResource SecondaryBg}"/>
                        <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
                        <Setter Property="FontSize" Value="13"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="Padding" Value="15,8"/>
                        <Setter Property="Margin" Value="2,0"/>
                    </Style>
                </TabControl.Resources>

                <!-- Dashboard Tab -->
                <TabItem Header="ðŸ“Š Dashboard">
                    <Grid Background="{StaticResource PrimaryBg}" Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Status Cards -->
                        <UniformGrid Rows="1" Columns="4" Margin="0,0,0,15">
                            <Border Background="{StaticResource SecondaryBg}" Margin="5" Padding="15" CornerRadius="6">
                                <StackPanel>
                                    <TextBlock Text="Total Scanned" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                    <TextBlock x:Name="txtTotalScanned" Text="0" Foreground="{StaticResource TextPrimary}" 
                                               FontSize="28" FontWeight="Bold" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                            <Border Background="{StaticResource SecondaryBg}" Margin="5" Padding="15" CornerRadius="6">
                                <StackPanel>
                                    <TextBlock Text="Healthy" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                    <TextBlock x:Name="txtHealthy" Text="0" Foreground="{StaticResource AccentGreen}" 
                                               FontSize="28" FontWeight="Bold" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                            <Border Background="{StaticResource SecondaryBg}" Margin="5" Padding="15" CornerRadius="6">
                                <StackPanel>
                                    <TextBlock Text="Critical Alerts" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                    <TextBlock x:Name="txtCritical" Text="0" Foreground="{StaticResource AccentRed}" 
                                               FontSize="28" FontWeight="Bold" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                            <Border Background="{StaticResource SecondaryBg}" Margin="5" Padding="15" CornerRadius="6">
                                <StackPanel>
                                    <TextBlock Text="In Progress" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                                    <TextBlock x:Name="txtInProgress" Text="0" Foreground="{StaticResource AccentBlue}" 
                                               FontSize="28" FontWeight="Bold" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Results Grid -->
                        <DataGrid Grid.Row="1" x:Name="dgResults" Style="{StaticResource ModernDataGrid}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Hostname" Binding="{Binding Hostname}" Width="150"/>
                                <DataGridTextColumn Header="IP Address" Binding="{Binding IP}" Width="120"/>
                                <DataGridTextColumn Header="Topology" Binding="{Binding Topology}" Width="80"/>
                                <DataGridTextColumn Header="Health Score" Binding="{Binding HealthScore}" Width="100"/>
                                <DataGridTextColumn Header="Critical Alerts" Binding="{Binding CriticalAlerts}" Width="100"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="120"/>
                                <DataGridTextColumn Header="Last Scan" Binding="{Binding LastScan}" Width="150"/>
                                <DataGridTemplateColumn Header="Actions" Width="100">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="View Details" Style="{StaticResource ModernButton}" 
                                                    Padding="8,4" FontSize="11" Tag="{Binding Hostname}"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>

                <!-- System Health Tab -->
                <TabItem Header="ðŸ”§ System Health">
                    <DataGrid x:Name="dgSystemHealth" Style="{StaticResource ModernDataGrid}" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Check" Binding="{Binding Check}" Width="200"/>
                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="250"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Severity" Binding="{Binding Severity}" Width="100"/>
                            <DataGridTemplateColumn Header="Remediation" Width="120">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button x:Name="btnRemediate" Content="Fix" 
                                                Style="{StaticResource ModernButton}" 
                                                Background="{StaticResource AccentGreen}"
                                                Padding="8,4" FontSize="11" 
                                                Tag="{Binding RemediationAction}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Security Tab -->
                <TabItem Header="ðŸ”’ Security Posture">
                    <DataGrid x:Name="dgSecurity" Style="{StaticResource ModernDataGrid}" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Security Check" Binding="{Binding Check}" Width="250"/>
                            <DataGridTextColumn Header="Result" Binding="{Binding Result}" Width="300"/>
                            <DataGridTextColumn Header="Compliance" Binding="{Binding Compliance}" Width="100"/>
                            <DataGridTextColumn Header="Risk Level" Binding="{Binding RiskLevel}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Network Tab -->
                <TabItem Header="ðŸŒ Network Diagnostics">
                    <DataGrid x:Name="dgNetwork" Style="{StaticResource ModernDataGrid}" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Diagnostic" Binding="{Binding Diagnostic}" Width="200"/>
                            <DataGridTextColumn Header="Result" Binding="{Binding Result}" Width="350"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Software Tab -->
                <TabItem Header="ðŸ’¾ Software & Compliance">
                    <DataGrid x:Name="dgSoftware" Style="{StaticResource ModernDataGrid}" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Check" Binding="{Binding Check}" Width="200"/>
                            <DataGridTextColumn Header="Details" Binding="{Binding Details}" Width="400"/>
                            <DataGridTextColumn Header="Compliance" Binding="{Binding Compliance}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- User Experience Tab -->
                <TabItem Header="ðŸ‘¤ User Experience">
                    <DataGrid x:Name="dgUserExperience" Style="{StaticResource ModernDataGrid}" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Metric" Binding="{Binding Metric}" Width="200"/>
                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="350"/>
                            <DataGridTextColumn Header="Assessment" Binding="{Binding Assessment}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>

                <!-- Activity Log Tab -->
                <TabItem Header="ðŸ“ Activity Log">
                    <TextBox x:Name="txtLog" Background="{StaticResource SecondaryBg}" 
                             Foreground="{StaticResource TextPrimary}" 
                             BorderBrush="{StaticResource BorderColor}"
                             IsReadOnly="True" VerticalScrollBarVisibility="Auto" 
                             FontFamily="Consolas" FontSize="11" Margin="10" Padding="10"/>
                </TabItem>
            </TabControl>

            <!-- Status Bar -->
            <Border Grid.Row="3" Background="{StaticResource SecondaryBg}" BorderBrush="{StaticResource BorderColor}" BorderThickness="0,1,0,0">
                <Grid Margin="10,0">
                    <TextBlock x:Name="txtStatus" Text="Ready" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center"/>
                    <ProgressBar x:Name="progressBar" Width="200" Height="15" HorizontalAlignment="Right" 
                                 Visibility="Collapsed" Foreground="{StaticResource AccentBlue}"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
